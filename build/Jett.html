<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agent Abilities</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .active {
        background-color: rgba(255, 255, 255, 0.1);
        filter: grayscale(0);
      }
    </style>
    <link rel="stylesheet" href="stylesheet.css" />
  </head>

  <body
    class="bg-[#0f1923] text-white min-h-screen flex items-center justify-center p-8"
    style="
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    "
  >
    <!--this is for the left column of the div-->
    <section
      class="max-w-6xl w-full bg-[#1c2a36] p-10 rounded-lg shadow-lg flex gap-10"
    >
      <div class="w-1/2">
        <h2 class="text-4xl font-extrabold uppercase mb-6">
          Special Abilities
        </h2>
        <div id="abilities" class="flex justify-between gap-4">
          <div
            onclick="selectAbility(0)"
            class="p-4 rounded cursor-pointer grayscale hover:grayscale-0 transition"
          >
            <img
              src="https://cmsassets.rgpub.io/sanity/images/dsfx7636/game_data/a0c72fe005e2f87f60f38fdb440569271c51a8fb-128x128.png"
              class="w-10 h-10 mx-auto"
            />
          </div>
          <div
            onclick="selectAbility(1)"
            class="p-4 rounded cursor-pointer grayscale hover:grayscale-0 transition"
          >
            <img
              src="https://cmsassets.rgpub.io/sanity/images/dsfx7636/game_data/18cb69683c16d11590eda4c5458a7025f0667895-128x128.png"
              class="w-10 h-10 mx-auto"
            />
          </div>
          <div
            onclick="selectAbility(2)"
            class="p-4 rounded cursor-pointer grayscale hover:grayscale-0 transition"
          >
            <img
              src="https://cmsassets.rgpub.io/sanity/images/dsfx7636/game_data/8c5e94bfc817e5d35eca7692fd242404de5ac5dd-128x128.png"
              class="w-10 h-10 mx-auto"
            />
          </div>
          <div
            onclick="selectAbility(3)"
            class="p-4 rounded cursor-pointer grayscale hover:grayscale-0 transition"
          >
            <img
              src="https://cmsassets.rgpub.io/sanity/images/dsfx7636/game_data/8d8e6c956af64b241e49e3625b3cb02fcc61eb09-128x128.png"
              class="w-10 h-10 mx-auto"
            />
          </div>
        </div>
      </div>
      <!--This is the right column of the div -->
      <div class="w-1/2">
        <video
          id="abilityVideo"
          autoplay
          muted
          loop
          playsinline
          class="rounded-lg shadow-lg w-full h-auto aspect-video object-cover mb-4"
        >
          <source
            src="https://cdn.cloudflare.steamstatic.com/steam/apps/256658589/movie480.webm"
            type="video/webm"
          />
        </video>
        <h3 id="abilityName" class="text-2xl font-extrabold mb-2">UPDRAFT</h3>
        <p id="abilityDesc" class="text-white/70 text-sm leading-relaxed">
          Instantly propel Jett high into the air.
        </p>
      </div>
      <a class="home" href="index.html">Return to Agent Select</a>
    </section>

    <script>
      const abilities = [
        {
          name: "UPDRAFT",
          desc: "Instantly propel Jett high into the air.",
          video:
            "https://cmsassets.rgpub.io/sanity/files/dsfx7636/game_data/4cbc968f05713579aae9464c5a16dc3f6863f943.mp4",
        },
        {
          name: "TAILWIND",
          desc: "Dash a short distance in the direction you're moving.",
          video:
            "https://cmsassets.rgpub.io/sanity/files/dsfx7636/game_data/ec6b3cf1f8ac09d597b0193de1d7bb81335b40e4.mp4",
        },
        {
          name: "CLOUD BURST",
          desc: "Throw a projectile that expands into a brief vision-blocking cloud.",
          video:
            "https://cmsassets.rgpub.io/sanity/files/dsfx7636/game_data/3353597819f0c032d56ff947d9762368b4ee6c6b.mp4",
        },
        {
          name: "BLADE STORM",
          desc: "Equip a set of accurate throwing knives. Restores on kill.",
          video:
            "https://cmsassets.rgpub.io/sanity/files/dsfx7636/game_data/667770571300e065b332617e5c8f2e009ed88928.mp4",
        },
      ];

      function selectAbility(index) {
        const video = document.getElementById("abilityVideo");
        const name = document.getElementById("abilityName");
        const desc = document.getElementById("abilityDesc");

        video.querySelector("source").src = abilities[index].video;
        video.load();
        name.textContent = abilities[index].name;
        desc.textContent = abilities[index].desc;

        document.querySelectorAll("#abilities > div").forEach((el, i) => {
          el.classList.toggle("active", i === index);
        });
      }

      selectAbility(0);
    </script>
  </body>
</html>
